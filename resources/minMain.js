/**
 * Created by Amir on 3/19/2017.
 */
function copyToClipboard(a){var b=$("<input>");$("body").append(b),b.val($(a).text()).select(),document.execCommand("copy"),b.remove()}function makelink(a){var b=document.getElementById("userBotToken").value,c=JSON.parse(a),d=new FormData,e="https://api.pwrtelegram.xyz/bot"+b+"/getFile?file_id="+c.result.file_id,f=new XMLHttpRequest;f.open("GET",e,!0),f.onload=function(){if(200==f.status){$("#p-link").css("display","block");var b=document.getElementById("makenLink"),c=JSON.parse(f.responseText),d="https://storage.pwrtelegram.xyz/"+c.result.file_path;b.innerHTML=d,document.getElementById("link_href").setAttribute("href",d),$("#status").css("display","none")}else $("#status").html("\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f./Unfortunately,there is a problem.")},f.send(d)}function clearMessage(){$("#p-message").css("display","none"),$("#botFather").css("display","none"),$("#message").html("")}function setCookie(){document.getElementById("userBotToken").value=document.cookie.substr(document.cookie.indexOf("=")+1)}function saveToken(a){a!=document.cookie.substr(document.cookie.indexOf("=")+1)&&(document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;",document.cookie="token="+a+"; expires=Fri, 31 Dec 9999 23:59:59 GMT;")}jQuery(document).ready(function(a){function e(){b.addClass("is-visible")}var b=a(".cd-message-modal"),c=a(".message-main-nav");c.on("click",".cd-message",e);var d=a(".cd-user-modal");a(document.body).on("click",function(b){(a(b.target).hasClass("cd-user-modal")||a(b.target).is(".close_popup"))&&jQuery(".cd-user-modal").removeClass("is-visible")}),a(document).keyup(function(a){"27"==a.which&&d.removeClass("is-visible")})}),$(document).ready(function(){$("#uploadBtn").click(function(){var a=new FormData($("#data")[0]),b=document.getElementById("userBotToken").value;return saveToken(b),""==b?($("#p-message").css("display","block"),void $("#message").html("Please insert token of your bot/\u0644\u0637\u0641\u0627 \u062a\u0648\u06a9\u0646 \u0631\u0628\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f")):(clearMessage(),"undefined"===typeof document.getElementById("up_vid").files[0]||document.getElementById("up_vid").files[0].size>1358252810|document.getElementById("up_vid").files[0].size<1?void 0:($("#p-link").css("display","none"),$("#status").css("display","block"),console.log(a),$.ajax({url:"https://api.pwrtelegram.xyz/bot"+b+"/uploadDocument",type:"POST",data:a,xhr:function(){var a=new window.XMLHttpRequest;return a.upload.addEventListener("progress",function(a){if(a.lengthComputable){var b=a.loaded/a.total;console.log(b),$("#percent").html(Math.round(100*b)+"%")}},!1),a},success:function(a){var b=JSON.parse(a);1==b.ok?($("#status").html("\u062f\u0631 \u062d\u0627\u0644 \u0633\u0627\u062e\u062a \u0644\u06cc\u0646\u06a9/Making Link"),makelink(a)):$("#status").html("\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647 \u0633\u0631\u0648\u06cc\u0633 \u0628\u0633\u06cc\u0627\u0631 \u0645\u0634\u063a\u0648\u0644 \u0627\u0633\u062a./Unfortunately,our server is too busy.")},cache:!1,contentType:!1,processData:!1}),!1))}),$("#help_tb_r").click(function(){$("#p-message").css("display","block"),$("#botFather").css("display","block"),$("#botFather").css("float","left"),$("#message").css("direction","rtl"),$("#message").html('\u0634\u0645\u0627 \u0628\u0627\u06cc\u0633\u062a\u06cc \u0628\u0647 \u0631\u0628\u0627\u062a \u062a\u0644\u06af\u0631\u0627\u0645\u06cc <a href="https://telegram.me/BotFather">BotFather@</a> \u0645\u0631\u0627\u062c\u0639\u0647 \u06a9\u0631\u062f\u0647 \u0648 \u0628\u0639\u062f \u0627\u0632 \u0633\u0627\u062e\u062a \u0631\u0628\u0627\u062a\u06cc\u060c\u062a\u0648\u06a9\u0646\u06cc \u0628\u0647 \u0634\u0645\u0627 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f \u06a9\u0647 \u0628\u0627\u06cc\u0633\u062a\u06cc \u062f\u0631 \u0642\u0633\u0645\u062a \u067e\u0627\u06cc\u06cc\u0646 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f.')}),$("#help_tb_l").click(function(){$("#p-message").css("display","block"),$("#botFather").css("display","block"),$("#botFather").css("float","right"),$("#message").css("direction","ltr"),$("#message").html('You should use <a href="https://telegram.me/BotFather">@BotFather</a> to make a bot.after making a bot,this robot will give you a token for accessing HTTP.use it below.')}),$("#x-message").click(function(){clearMessage()})}),$("#up_vid").bind("change",function(){this.files[0].size>1358252810?($("#p-message").css("display","block"),$("#message").html("File must be under 1.35gb/\u0641\u0627\u06cc\u0644 \u0628\u0627\u06cc\u0633\u062a\u06cc \u06a9\u0645\u062a\u0631 \u0627\u0632 1.35\u06af\u06cc\u06af \u0628\u0627\u0634\u062f")):clearMessage()});
